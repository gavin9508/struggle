## volatile
### volatile功能
    1.保证变量的内存可见性
    2.禁止volatile变量与普通变量重排序
### volatile的用途
1. 可见性：volatile有着与锁相同的内存语义，所以可以作为一个“轻量级”的锁来使用。**在功能上，锁比volatile更强大；在性能上，volatile更有优势。**
2. 进行重排序：单例模型中的双重锁检查

### 内存可见性
指的是线程之间的可见性，当一个线程修改了共享变量时，另一个线程可以读取到这个修改后的值。
### 指令重排序
计算机在执行程序时，为了提高性能，编译器和处理器常常会对指令做重排。
#### 指令重排序种类
    1.编译器优化重排：编译器在不改变单线程程序语义的前提下，可以重新安排语句的执行顺序。
    2.指令并行重排：现代处理器采用了指令级并行技术来将多条指令重叠执行。如果不存在数据依赖性(即后一个执行的语句无需依赖前面执行的语句的结果)，处理器可以改变语句对应的机器指令的执行顺序。 
    3.内存系统重排：由于处理器使用缓存和读写缓存冲区，这使得加载(load)和存储(store)操作看上去可能是在乱序执行，因为三级缓存的存在，导致内存与缓存的数据同步存在时间差。
